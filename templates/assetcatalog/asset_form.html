{% extends "base.html" %}
{% block title %}New Asset â€” Envy Games{% endblock %}
{% block content %}
<div class="container mx-auto p-4 pt-20 max-w-3xl">
    <h1 class="text-2xl md:text-3xl font-bold mb-6">Create Asset</h1>

    {% if form.non_field_errors %}
    <div class="alert alert-error mb-4">
        <span>{{ form.non_field_errors }}</span>
    </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data" class="space-y-4">
        {% csrf_token %}

        <div class="grid md:grid-cols-2 gap-4">
            <div>
                <label class="label"><span class="label-text">Title</span></label>
                {{ form.title }}
                {% if form.title.errors %}
                <p class="label-text-alt text-error mt-1">{{ form.title.errors|striptags }}</p>
                {% endif %}
            </div>

            <div>
                <label class="label"><span class="label-text">Type</span></label>
                {{ form.asset_type }}
                {% if form.asset_type.errors %}
                <p class="label-text-alt text-error mt-1">{{ form.asset_type.errors|striptags }}</p>
                {% endif %}
            </div>
        </div>

        <div>
            <label class="label"><span class="label-text">Description</span></label>
            {{ form.description }}
            {% if form.description.errors %}
            <p class="label-text-alt text-error mt-1">{{ form.description.errors|striptags }}</p>
            {% endif %}
        </div>

        <div>
            <label class="label"><span class="label-text">Tags</span></label>
            {{ form.tags }}
            <label class="label"><span class="label-text-alt">Comma-separated</span></label>
            {% if form.tags.errors %}
            <p class="label-text-alt text-error mt-1">{{ form.tags.errors|striptags }}</p>
            {% endif %}
        </div>

        <div>
            <label class="label"><span class="label-text">Projects (optional)</span></label>
            {{ form.projects }}
            {% if form.projects.errors %}
            <p class="label-text-alt text-error mt-1">{{ form.projects.errors|striptags }}</p>
            {% endif %}
        </div>

        <div>
            <label class="label"><span class="label-text">Initial File</span></label>
            {{ form.file_upload }}
            {% if form.file_upload.help_text %}
            <p class="label-text-alt opacity-70 mt-1">{{ form.file_upload.help_text }}</p>
            {% endif %}
            {% if form.file_upload.errors %}
            <p class="label-text-alt text-error mt-1">{{ form.file_upload.errors|striptags }}</p>
            {% endif %}
        </div>

        <div class="flex gap-2">
            <a class="btn btn-ghost" href="{% url 'assetcatalog:list' %}">Cancel</a>
            <button class="btn btn-primary" type="submit">Create</button>
        </div>
    </form>
</div>
{% endblock %}