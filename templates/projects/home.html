{% extends "base.html" %}
{% block title %}Projects — Envy Games{% endblock %}
{% block content %}
<div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl md:text-3xl font-bold">Projects</h1>
    <div class="flex gap-2">
        <a class="btn btn-ghost" href="{% url 'projects:list_mine' %}">My Projects</a>
        <a class="btn btn-ghost" href="{% url 'projects:list_all' %}">All Projects</a>
        <a class="btn btn-primary" href="{% url 'projects:create' %}">New Project</a>
    </div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
    <div class="stat bg-base-100 rounded-box shadow">
        <div class="stat-title">My Active Projects</div>
        <div class="stat-value">{{ count_mine }}</div>
        <div class="stat-actions">
            <a class="btn btn-sm" href="{% url 'projects:list_mine' %}">View</a>
        </div>
    </div>

    <div class="stat bg-base-100 rounded-box shadow">
        <div class="stat-title">All Active Projects</div>
        <div class="stat-value">{{ count_all }}</div>
        <div class="stat-actions">
            <a class="btn btn-sm" href="{% url 'projects:list_all' %}">Browse</a>
        </div>
    </div>

    <div class="stat bg-base-100 rounded-box shadow">
        <div class="stat-title">Create</div>
        <div class="stat-value">New</div>
        <div class="stat-actions">
            <a class="btn btn-sm btn-primary" href="{% url 'projects:create' %}">New Project</a>
        </div>
    </div>
</div>

<div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4">
    <div class="card bg-base-100 shadow">
        <div class="card-body">
            <h2 class="card-title">Recent (Mine)</h2>
            <ul class="menu">
                {% for p in recent_mine %}
                <li>
                    <a href="{{ p.get_absolute_url }}">
                        <span class="font-medium">{{ p.name }}</span>
                        <span class="opacity-60 text-sm">{{ p.get_type_display }} • {{ p.get_status_display }}</span>
                    </a>
                </li>
                {% empty %}
                <li class="opacity-60">No recent projects.</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="card bg-base-100 shadow">
        <div class="card-body">
            <h2 class="card-title">Recent (All)</h2>
            <ul class="menu">
                {% for p in recent_all %}
                <li>
                    <a href="{{ p.get_absolute_url }}">
                        <span class="font-medium">{{ p.name }}</span>
                        <span class="opacity-60 text-sm">{{ p.get_type_display }} • {{ p.get_status_display }}</span>
                    </a>
                </li>
                {% empty %}
                <li class="opacity-60">No recent projects.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}