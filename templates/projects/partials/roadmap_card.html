<div class="card bg-base-100 shadow hover:shadow-lg transition-shadow cursor-pointer" data-task-id="{{ task.id }}"
    hx-get="{% url 'projects:task_modal' task.id %}" hx-target="#task-modal-container" hx-trigger="click">
    <div class="card-body p-3">
        <div class="flex justify-between items-start mb-2">
            <span class="badge badge-sm badge-secondary">Roadmap Item</span>

            {% if is_manager and column.name == 'Approved' %}
            <button class="btn btn-xs btn-success" hx-post="{% url 'projects:convert_to_task' task.id %}"
                hx-headers='{"X-CSRFToken":"{{ csrf_token }}"}' hx-target="closest .card" hx-swap="outerHTML"
                onclick="event.stopPropagation()">
                â†’ Task
            </button>
            {% endif %}
        </div>

        <h4 class="font-medium text-sm">{{ task.title }}</h4>

        {% if task.description %}
        <p class="text-xs opacity-70 mt-1 line-clamp-2">{{ task.description }}</p>
        {% endif %}
    </div>
</div>