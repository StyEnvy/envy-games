{% extends "base.html" %}
{% block title %}{{ form.instance.pk|yesno:"Edit Task,New Task" }}{% if project %} • {{ project.name }}{% endif %} •
Envy Games{% endblock %}
{% block content %}
<div class="container mx-auto p-4 pt-20 max-w-3xl">
    <div class="card bg-base-100 shadow">
        <div class="card-body">
            <h2 class="card-title">
                {{ form.instance.pk|yesno:"Edit Task,New Task" }}
                {% if project %}<span class="opacity-60">in {{ project.name }}</span>{% endif %}
            </h2>
            <form method="post">
                {% csrf_token %}
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {{ form.non_field_errors }}
                    <div class="md:col-span-2">{{ form.title.label_tag }} {{ form.title }}</div>

                    <div>{{ form.kind.label_tag }} {{ form.kind }}</div>
                    <div>{{ form.status.label_tag }} {{ form.status }}</div>
                    <div>{{ form.priority.label_tag }} {{ form.priority }}</div>
                    <div>{{ form.assignee.label_tag }} {{ form.assignee }}</div>

                    <div>{{ form.impact.label_tag }} {{ form.impact }}</div>
                    <div>{{ form.confidence.label_tag }} {{ form.confidence }}</div>
                    <div>{{ form.ease.label_tag }} {{ form.ease }}</div>

                    <div class="md:col-span-2">{{ form.parent.label_tag }} {{ form.parent }}</div>
                    <div class="md:col-span-2">{{ form.labels.label_tag }} {{ form.labels }}</div>
                    <div class="md:col-span-2">{{ form.description.label_tag }} {{ form.description }}</div>
                </div>
                <div class="card-actions justify-end mt-6">
                    <a class="btn btn-ghost"
                        href="{% if project %}{% url 'tasks:project_task_list' project.slug %}{% else %}{% url 'tasks:task_list' %}{% endif %}">Cancel</a>
                    <button class="btn btn-primary" type="submit">Save Task</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}