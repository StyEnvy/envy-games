{% extends "base.html" %}
{% block title %}{{ task.title }} • Envy Games{% endblock %}
{% block content %}
<div class="container mx-auto p-4 pt-20 max-w-3xl">
    <div class="flex items-center justify-between mb-4">
        <h1 class="text-2xl font-semibold">{{ task.title }}</h1>
        <a class="btn" href="{% url 'tasks:task_update' task.pk %}">Edit</a>
    </div>
    <div class="card bg-base-100 shadow">
        <div class="card-body">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div><span class="opacity-70">Project:</span> {{ task.project.name }}</div>
                <div><span class="opacity-70">Assignee:</span> {{ task.assignee|default:"Unassigned" }}</div>
                <div><span class="opacity-70">Status:</span> {% if task.get_status_display %}{{ task.get_status_display
                    }}{% else %}{{ task.status }}{% endif %}</div>
                <div><span class="opacity-70">Priority:</span> {{ task.priority|default:"—" }}</div>
                <div><span class="opacity-70">Kind:</span> {{ task.get_kind_display|default:task.kind }}</div>
                <div><span class="opacity-70">Parent:</span> {{ task.parent|default:"—" }}</div>

                <div><span class="opacity-70">Impact:</span> {{ task.impact|default:"—" }}</div>
                <div><span class="opacity-70">Confidence:</span> {{ task.confidence|default:"—" }}</div>
                <div><span class="opacity-70">Ease:</span> {{ task.ease|default:"—" }}</div>
                <div><span class="opacity-70">Score:</span> {{ task.score }}</div>

                <div class="md:col-span-2"><span class="opacity-70">Labels:</span>
                    {% for label in task.labels.all %}<span class="badge mr-1">{{ label.name }}</span>{% empty %}None{%
                    endfor %}
                </div>
                <div class="md:col-span-2"><span class="opacity-70">Description:</span><br>{{
                    task.description|linebreaks }}</div>

                <div class="md:col-span-2 text-sm opacity-70">
                    Created by {{ task.created_by }} on {{ task.created_at|date:"Y-m-d H:i" }} • Updated {{
                    task.updated_at|date:"Y-m-d H:i" }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}